<!DOCTYPE html>
<html>
<head>
	<title>CS61c Proj1_Spec</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
	<link href="../../css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href='http://fonts.googleapis.com/css?family=Lato:300,400' rel='stylesheet' type='text/css'>
	<link href="../style.css" rel="stylesheet">
	<link rel="shortcut icon" href="favicon.ico" type="image/icon">
	<script src="../../googleTracking.js"></script>
	<script src="../../jquery.min.js"></script>
	<script src="../../jquery-ui.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
</head>

<!--////////////////////////// Facebook JS /////////////////////////-->

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1535854626680069&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<!--////////////////////////// Header /////////////////////////-->

  <body>
  	<div id="content_space">
  	    <div id="nav-wrapper">
	  		<div id="nav" data-spy="affix" data-offset-top="300" class="navbar navbar-default" role="navigation">
	  			<div class="container-fluid">
	  				<div class="navbar-header">
	  					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	  						<span class="sr-only">Toggle navigation</span>
	  						<span class="icon-bar"></span>
	  						<span class="icon-bar"></span>
	  						<span class="icon-bar"></span>
	  					</button>
	  					<a class="navbar-brand" href="#">Ollie O'Donnell</a>
	  				</div>
	  				<div class="collapse navbar-collapse">
	  					<ul class="nav navbar-nav">
	  						<li><a href="http://ollie-odonnell.com/proj1_spec">Setup and Introduction</a></li>
	  						<li><a href="http://ollie-odonnell.com/proj1_spec/1">Step 1</a></li>
	  						<li><a href="http://ollie-odonnell.com/proj1_spec/2">Step 2</a></li>
	  						<li class="active"><a href="http://ollie-odonnell.com/proj1_spec/3">Step 3</a></li>
	  						<li><a href="http://ollie-odonnell.com/proj1_spec/4">Step 4</a></li>
	  						<li><a href="http://ollie-odonnell.com/proj1_spec/5">Step 5</a></li>
	  						<li><a href="http://ollie-odonnell.com/proj1_spec/6">Step 6</a></li>
			                <li><a href="http://ollie-odonnell.com/proj1_spec/Submission">Submission</a></li>

	  					</ul>
	  				</div>
	  			</div>
	  		</div>
	  	</div>


<div class="container-fluid resume">
  <div class="row">
	<div class="col-md-8 col-md-offset-2">

<!--////////////////////////// Content /////////////////////////-->

<h3>Step 3: Instruction Translation</h3>

  <p>Implement <tt>translate_inst()</tt> in <tt>src/translate.c</tt>. The <a href="http://www-inst.eecs.berkeley.edu/~cs61c/resources/MIPS_Green_Sheet.pdf">MIPS Green Sheet</a> will again be helpful, and so will bitwise operations.</p>

  <p><tt>translate_inst()</tt> should translate instructions to hexadecimal. Note that the function is incomplete, and that <b>the funct fields are wrong</b>.You must first fix the funct fields, and then implement the rest of the function.You will find the <tt>translate_reg()</tt>, <tt>translate_num()</tt>, and <tt>write_inst_hex()</tt> functions, all defined in <tt>translate_utils.h</tt> helpful in this step. Some instructions may also require the symbol and/or relocation table, which are give to you by the <tt>symtbl</tt> and <tt>reltbl</tt> pointers. This step may require writing a lot of code, but the code should be similar in nature, and therefore not difficult. The more important issue is input validation -- you must make sure that all arguments given are valid. If an input is invalid, you should NOT write anything to output but return -1 instead.</p>

  <p>Use your knowledge about MIPS instruction formats and think carefully about how inputs could be invalid. You are encouraged to use MARS as a resource. Do note that MARS has more pseudoinstruction expansions than our assembler, which means that instructions with invalid arguments for our assembler could be treated as a pseduoinstruction by MARS. Therefore, you should check the text section after assembling to make sure that the instruction has not been expanded by MARS .</p>

  <p><b>If a branch offset cannot fit inside the immediate field, you should treat it as an error.</b></p>
    <div class="fb-comments" data-width="100%" data-href="http://ollie-odonnell.com/proj1_spec/3" data-numposts="5" data-colorscheme="light"></div>

<!--////////////////////////// Content /////////////////////////-->

	</div>
 </div>
</div>
</body>
</html>